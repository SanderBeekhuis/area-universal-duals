%!TEX root = ../thesis.tex

\section{Introduction}
\thispagestyle{plain}


\mypar{Motivation}
  \begin{figure}[!t]
    \centering
    \includegraphics[scale=.5]{introduction/img/cartogram.png}
    \caption{A cartogram by Raisz~\cite{Raisz1934} made in 1934.}
    \label{fig:intro:raisz}
  \end{figure}
  In for example atlases \emph{rectangular cartograms} are used to display information, such as population or economic strength, in a spatial manner.
  In a rectangular cartogram  the geographic regions of an ordinary map are replaced by rectangles; we let these rectangles maintain adjacencies with each other to suggest geographic location and scale them proportionally to the quantities they represent.
  Raisz~\cite{Raisz1934} introduced these cartograms and provided cartograms of, for instance, land area, population (see Figure  \ref{fig:intro:raisz}) and wealth of the United States of America.
  In a rectangular cartogram it is preferable to maintain the adjacencies of the regions that are replaced by rectangles, this in order to keep the representation recognizable.
  However, this is only possible under certain conditions that will be given later in this chapter.
  Note that the cartograms made by Raisz do not keep all adjacenies, for example, in Figure \ref{fig:intro:raisz} Florida and Alabama are not adjacent while they are in reality.

  The value of the displayed quantities, like population or wealth, often changes over time.
  When we draw a set of cartograms displaying a quantity at different moments in time, it is desirable if the adjacencies between these rectangles remain the same, no matter the moment in time.
  Moreover, it would be even better if the nature of these adjacencies, that is whether the rectangles border in a vertical or horizontal manner, does not change.
  This raises the question: When is this possible?

\mypar{Rectangular layout}
  Mathematically, a rectangular cartogram is a  \emph{rectangular layout} (or simply \emph{layout}).
  A layout $\L$ is a partition of an axis-parallel rectangle into a finite set of interior-disjoint axis-parallel rectangles.
  A rectangular layout that has an combinatorially equivalent layout, regardless the area sizes we assign to each rectangle is \emph{area-universal}.
  \fxnote{Figure of area-universal layouts}
  The question above then becomes: For which maps can we create a area-universal layout?
  It is clear that we must leave out those maps that do not have any layouts with the same adjacencies, but this will not be enough.

\mypar{Adjacency graphs}
  We can represent the adjacencies of map regions by an \emph{adjacency graph} $G$ where each region is represented by a vertex and two vertices are connected by an edge exactly when their regions are adjacent.
  Similarly, in the \emph{adjacency graph} $\dualgraph{\L}$ of a rectangular layout $\L$ each rectangle is represented by a vertex and two vertices are connected by an edge exactly when their rectangles are adjacent.
  A layout $\L$ is a \emph{rectangular dual} of a graph $G$ if we have that $G = \dualgraph{\L}$.
  Rinsma found a graph $G$ in~\cite{Rinsma1987}, displayed in Figure \ref{fig:intro:rinsma}, that has no area-universal rectangular duals.
  \fxnote{Show nonuniqueness}
  That is, all rectangular layouts with $G$ as adjacency graph are not area-universal.

  \begin{wrapfigure}[13]{r}{5cm}
    \includegraphics[scale=.15]{introduction/img/rinsma.png}
    \caption{The graph by Rinsma~\cite{Rinsma1987} that is not one-sided.}
    \label{fig:intro:rinsma}
  \end{wrapfigure}


\mypar{One-sided layouts}
  So, unfortunately not all adjacency graphs of map regions admit area-universal duals.
  Then we would like to know which graphs do.
  Before we can do this we need to define what a one-sided layouts is.
  Note that the interior of a rectangular layout contains vertical and horizontal line segments.
  Any line segment that can not extended farther on either side is a \emph{maximal segment}.
  Such a layout is \emph{one-sided} if every maximal segment has only one rectangle on one of its sides.
  \fxnote{Figure}
  In~\cite{Eppstein2012} Eppstein et al. show that rectangular layouts are area-universal exactly when they are one-sided.
  So, Rinsma's result also implies that not all adjacency graphs of maps can be represented by an one-sided layout.


\mypar{$\mathbf{k}$-sided layouts}
  \begin{figure}[b]
    \quad
    \begin{subfigure}[b]{0.45 \textwidth}
      \centering
      \includegraphics[width=\textwidth]{introduction/img/2sidedBefore.pdf}
      \caption{Before resizing $a$}
      \label{fig:intro:2sidedBefore}
    \end{subfigure}
    \hfill
    \begin{subfigure}[b]{0.45 \textwidth}
      \centering
      \includegraphics[width=\textwidth]{introduction/img/2sidedAfter.pdf}
      \caption{After resizing $a$}
      \label{fig:intro:2sidedAfter}
    \end{subfigure}
    \caption{A 2-sided segment}
    \label{fig:intor:2sided}
    \quad

    \quad
    \begin{subfigure}[b]{0.45 \textwidth}
      \centering
      \includegraphics[width=\textwidth]{introduction/img/10sidedBefore.pdf}
      \caption{Before resizing $a$}
      \label{fig:intro:10sidedBefore}
    \end{subfigure}
    \hfill
    \begin{subfigure}[b]{0.45 \textwidth}
      \centering
      \includegraphics[width=\textwidth]{introduction/img/10sidedAfter.pdf}
      \caption{After resizing $a$}
      \label{fig:intro:10sidedAfter}
    \end{subfigure}
    \quad
    \caption{A 10-sided segment}
    \label{fig:intro:10sided}
  \end{figure}
  Let us consider those graphs that do not admit a one-sided, and thus area-universal, layout.
  Since any layout for such a graph is not area-universal, it is inevitable that adjacencies between regions in this layout change when we are resizing them.
  For these graphs we want to find layouts that have the least number of adjacency changes when area sizes change.
  This is beneficial for, for example, applications displaying cartograms on a continuous timescale.
  Since every time the adjacencies of the layout change, we have to compute a new rectangular layout with the right adjacencies, providing a rougher viewing experience.

  We call a layout \emph{$k$-sided} if $k$ is the smallest integer such that every maximal segment has at most $k$ rectangles on one of its sides. This is a direct generalization of one-sidedness.
  This generalization is useful because, when changing the areas of rectangles in a $k$-sided layout fewer adjacencies change, in general, if $k$ is small then if $k$ is large.

  We illustrate this by comparing a typical $2$-sided and a typical $10$-sided segment.
  Let us first consider the $2$-sided segment in Figure \ref{fig:intro:2sidedBefore}, if the size of $a$ doubles only two adjacencies change, namely $dA$ and $cB$, as can been seen in Figure \ref{fig:intro:2sidedAfter}.
  While for an example of a $10$-sided segment doubling the size of a single rectangle leads to $15$ changed adjacencies, namely $aC\ aD\ bB\ bC\ bD\ bE\ cC\ cD\ cE\ cF\ dE\ dG\ eF\ eH\ fG$, as can been seen in Figure \ref{fig:intro:10sided}.

  Hence we would like to find $k$-sided layouts for all graphs with $k$ as small as possible.


\mypar{Counterexample}
  In this thesis we provide two results on $k$-sidedness. The first result is the existence of a family of graphs $G_k$ that, for any constant $k \in \N$, has members that are not $k$-sided (Theorem \ref{fix:th:family}). The family of graphs in this result is characterized by the occurrence of nested separating $4$-cycles.
  A \emph{$4$-cycle} is a cycle of length $4$.
  Such a cycle is separating if there are vertices in both its interior and exterior.
  Separating $4$-cyles are \emph{nested} if one is contained in the other, but some of their vertices overlap.
  \fxnote{Some example fig of these cycles}
  $4$-cycles in general are difficult to treat but examples indicate that nested $4$-cycles are the most difficult to treat when trying to create a $k$-sided layout.


  \fxnote{BLABLA on 4-cyles in other problems}

\mypar{Corner assignments}
  Before we can state our second result we will have to briefly introduce the concepts of corner assignments.
  A corner assignment $\ext G$ of a graph $G$ is an augmentation of $G$ with $4$ external vertices, which we call its \emph{poles}, with the following three properties (i) every interior face has degree $3$, (ii) the exterior face has degree $4$ and (iii) $\ext G$ has no separating triangles.
  A corner assignment fixes which rectangles are in the corners of the rectangular dual $\L$, namely those adjacent to two poles, which explains the terminology.

\mypar{Existence of rectangular duals}
  Now we have formulated corner assignments we can also quickly answer the question which maps allow rectangular duals. It was shown independently by Kozminski and Kinnen \cite{Kozminski1984} and Ungar \cite{Ungar1953}, that a adjacency graph of a map admits a rectangular dual if and only if it admits a corner assignment.

\mypar{Algorithm}
  After finding the counterexample, we focused our efforts on obtaining an algorithm that would provide a $k$-sided layout for corner assignments without a separating $4$-cycle, for some constant $k \in \N$.
  Unfortunately, we fell short of this goal and only found an algorithm that provides a $d-1$-sided layout, where $d$ is the maximal degree of the vertices of $G$ in $\ext G$ (Theorem \ref{th:dsided}).

  That being said, we never found any graph without separating $4$-cycles that did not admit any $2$-sided layouts during our research.
  This raises the conjecture that these graphs in fact do admit a $2$-sided layout and it is just the algorithm for finding them that eludes us.
  \fxnote{show that for example rinsma also satifies this, Figure}

  Its worthy of note, that bound obtained by the algorithm is not stronger then the bound provided by the counterexample. That is, there might be an algorithm providing $O(d)$-sided layouts for all graphs $G$.

\fxnote{Move somewhere}
\mypar{k-sided segments}
  Consider for example Figure \ref{fig:intr:segmentdefs}, the three highlighted lines are all line segments. However, only the red and blue segment are maximal segments. The red segment is one-sided and the blue segment is $2$-sided and the whole layout is $2$-sided. Furthermore, the layout in Figure \ref{fig:intr:vertonesided} is $4$-sided.

  \begin{figure}[b]
      \centering
      \begin{subfigure}[b]{0.45 \textwidth}
        \centering
        \includegraphics[scale=1]{rectangularDuals/img/segmentdefs}
        \caption{A rectangular layout.}
        \label{fig:intr:segmentdefs}
      \end{subfigure}
      ~
      \begin{subfigure}[b]{0.45 \textwidth}
        \centering
        \includegraphics[scale=1]{rectangularDuals/img/vertonesided}
        \caption{Another rectangular layout.}
        \label{fig:intr:vertonesided}
      \end{subfigure}
      \caption{Rectangular layouts}
      \label{fig:intr:graphs}
  \end{figure}

\fxnote{expand and add prelime section}
\mypar{Overview}
  The rest of this thesis is focused on obtaining these results.
  In order to do this we treat paths and cycles in the remainder of this section. In Section \ref{s:rel} we introduce the notion of regular edge labellings which we use in the rest of the thesis. A regular edge labeling is a way of coloring and orienting the edges of a graph that corresponds to a rectangular dual of that graph.
  Once we have the preliminaries out of the way we prove Theorem \ref{fix:th:family} in Section \ref{s:fix} and Theorem \ref{th:dsided} in Section \ref{s:algo}. The proof of Theorem \ref{fix:th:family} is by counterexample while the proof of Theorem \ref{th:dsided} is provided by giving a constructive algorithm.
